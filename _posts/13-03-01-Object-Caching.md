---
title: ذخیره‌سازی Object
isChild: true
anchor: object_caching
---

## ذخیره‌سازی Object {#object_caching_title}

شرایطی وجود دارد که طی آن نیاز باشد یک شی منحصربه‌فرد را به صورت جداگانه در حافظه ذخیره کنیم، مانند حالتی که فراخوانی از پایگاه‌داده بسیار پرهزینه و خروجی آن نیز تغییر چندانی نداشته باشد. شما می‌توانید از نرم‌افزارهایی که به این منظور طراحی شده‌اند جهت ذخیره‌سازی یک شی خاص در حافظه برای دسترسی‌های سریع‌تر در آینده استفاده کنید. اگر این گزینه‌ها را در یک انبار داده ذخیره کنید، سپس طی درخواست‌های بعد آن‌ها را از حافظه فراخوانی کنید، مقدار قابل توجهی به سرعت نرم‌افزار شما اضافه خواهد شد و با اضافی نیز به سمت پایگاه‌داده روانه نمی‌شود.

بسیاری از راه‌حل‌های مبتنی بر ذخیره‌سازی bytecode اجازه‌ی ذخیره‌سازی داده‌های سفارشی را نیز می‌دهند، پس دلایل بیشتری برای استفاده کردن از آن‌ها وجود دارد. از جمله ابزارهایی که با ارایه‌ی رابط برنامه‌نویسی اجازه‌ی اینکار را به شما می‌دهند عبارتند از APCu و XCache و WinCache.

متداول‌ترین ابزارهای مورد استفاده در این زمینه عبارتند از APCu و memcached. برای ذخیره‌سازی شی، APCu ابزار فوق‌العاده‌ای است که با یک رابط برنامه‌نویسی ساده اجازه می‌دهد داده‌ی سفارشی خود را در آن ذخیره کنید. یکی از محدودیت‌های APCu این است که وابسته به سروری است که روی آن نصب و راه‌اندازی شده است. از طرف دیگر، Memcached روی سرویس جداگانه‌ای قابل نصب است که از طریق شبکه می‌توان به آن رسید. به این معنا که شما می‌توانید داده‌های خود را در یک محیط مرکزی ذخیره‌سازی کنید و سایر سرورها از این محیط جهت فراخوانی داده استفاده کنند.

به یاد داشته باشید زمانی که PHP به عنوان یک نرم‌افزار FastCGI در وب‌سرور اجرا می‌شود، هر فرآیند آن حافظه‌ی مربوط به خود را دارد. به همین دلیل داده‌های APCu قابلیت اشتراک‌گذاری بین چند فرآیند را ندارند. در اینگونه شرایط شاید بخواهید از memcached استفاده کنید، که وابسته به فرآیند‌های PHP نیست.

در یک پیکربندی مبتنی بر شبکه، APCu بهتر از memcached عمل می‌کند، اما memcached قابلیت بهتری برای مقیاس‌پذیری و افزایش سرعت دارد. اگر نرم‌افزار شما در چند سرور مختلف اجرا نمی‌شود یا به قابلیت‌های اضافه‌ی memcached نیاز ندارد، در این صورت APCu گزینه‌ی مناسبی برای شماست.

نمونه‌ای از کاربرد APCu:

{% highlight php %}
<?php
// check if there is data saved as 'expensive_data' in cache
$data = apc_fetch('expensive_data');
if ($data === false) {
    // data is not in cache; save result of expensive call for later use
    apc_add('expensive_data', $data = get_expensive_data());
}

print_r($data);
{% endhighlight %}

نکته اینکه تا قبل از PHP 5.5، نرم‌افزار APC هر دو ذخیره‌سازی object و bytecode را ارایه می‌داد. بنابراین APCu به پروژه‌ای تبدیل شد که ذخیره‌سازی object از APC را برای PHP 5.5 به بالا به ارمغان آورد، چرا که PHP به صورت پیش‌فرض یک ذخیره‌ساز bytecode به نام OPcache دارد.

درباره‌ی سیستم‌‌های محبوب ذخیره‌سازی شی بیشتر بدانید:

* [APCu](https://github.com/krakjoe/apcu)
* [ APC Functions](http://php.net/manual/en/ref.apc.php)
* [Memcached](http://memcached.org/)
* [Redis](http://redis.io/)
* [XCache APIs](http://xcache.lighttpd.net/wiki/XcacheApi)
* [WinCache Functions](http://www.php.net/manual/en/ref.wincache.php)
