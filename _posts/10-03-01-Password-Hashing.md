---
title: ایمن‌سازی گذرواژه
isChild: true
anchor: password_hashing
---

## ایمن‌سازی گذرواژه {#password_hashing_title}

به طور طبیعی، یکی از فرآیندهای موجود نرم‌افزارهای وب مبتنی بر PHP استفاده از نام کاربری و گذرواژه جهت ایجاد حساب کاربری است که این اطلاعات در پایگاه‌داده ذخیره می‌شوند تا برای احراز هویت کاربران مورد استفاده قرار گیرند.

بسیار مهم است که گذرواژه‌ها را قبل از ذخیره‌سازی، [hash][3] کنید. این یک عمل بازگشت‌ناپذیر است که گذرواژه‌ی کاربر را به رشته‌ای با طول ثابت تبدیل می‌کند که این رشته قابل بازگشت به گذرواژه‌ی اولیه نباشد. این بدان معناست که می‌توانید دو مقدار را با یکدیگر بررسی کنید تا مشخص شود آیا از یک گذرواژه‌ی یکسان تولید شده‌اند یا خیر در حالی که نمی‌توانید رشته‌ی اولیه (گذرواژه‌) را تشخیص دهید. اگر این اقدام مهم را انجام ندهید و پایگاه‌داده‌ی شما در اختیار شخص دیگری قرار گیرد آنگاه اطلاعات ورود کاربران شما فاش خواهد شد. در نظر داشته باشید برخی کاربران از یک گذرواژه‌ (متاسفانه) برای سرویس‌های دیگر نیز استفاده می‌کنند. به همین خاطر، مهم است که این مسایل را جدی بگیرید.


**کاربرد تابع `password_hash`**

این تابع در 5.5 PHP معرفی شد و در حال حاضر از الگوریتم BCrypt، که قوی‌ترین الگوریتم موجود در PHP است، استفاده می‌کند. در صورت نیاز به الگوریتم‌های قوی‌تر، در آینده بروزرسانی خواهد شد. همچنین کتابخانه‌ی `password_compat` برای نسخه‌های قدیمی‌تر مانند 5.3.7 به بالا، به وجود آمده است.

در ادامه، با استفاده از این تابع یک رشته را hash کرده و با یک رشته‌ی دیگر مقایسه می‌کنیم. از آنجایی که دو رشته‌ی ورودی متفاوت هستند، عملیات ورود ناموفق خواهد بود.

{% highlight php %}
<?php
                      
require 'password.php';

$passwordHash = password_hash('secret-password', PASSWORD_DEFAULT);

if (password_verify('bad-password', $passwordHash)) {
    // Correct Password
} else {
    // Wrong password
}
{% endhighlight %}  



* [درباره‌ی `password_hash` بیشتر بدانید] [1]
* [تابع `password_compat` برای نسخه‌های 5.3.7 تا 5.5] [2]
* [درباره‌ی هشینگ و رمزنگاری بیشتر بدانید] [3]
* [چگونگی به وجود آمدن تابع `password_hash` و اسناد فنی مربوطه] [4]

[1]: http://us2.php.net/manual/en/function.password-hash.php
[2]: https://github.com/ircmaxell/password_compat
[3]: http://en.wikipedia.org/wiki/Cryptographic_hash_function
[4]: https://wiki.php.net/rfc/password_hash
